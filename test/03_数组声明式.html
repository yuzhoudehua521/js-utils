<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 自定义实现一组数组声明式方法
      Function.prototype.map = function (callback) {
        const arr = [];

        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          const result = callback(value, index);
          arr.push(result);
        }

        return arr;
      };

      Function.prototype.reduce = function (callback, initValue) {
        let total = initValue;

        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          total = callback(total, value, index);
        }

        return total;
      };

      Function.prototype.filter = function (callback, initValue) {
        const arr = [];

        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          const result = callback(value, index);
          if (result) {
            arr.push(value);
          }
        }

        return arr;
      };

      Function.prototype.find = function (callback, initValue) {
        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          const result = callback(value, index);
          if (result) {
            return value;
          }
        }

        return undefined;
      };

      Function.prototype.findIndex = function (callback, initValue) {
        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          const result = callback(value, index);
          if (result) {
            return index;
          }
        }

        return -1;
      };

      Function.prototype.every = function (callback, initValue) {
        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          const result = callback(value, index);
          if (!result) {
            return false;
          }
        }

        return true;
      };

      Function.prototype.some = function (callback, initValue) {
        for (let index = 0; index < this.length; index++) {
          const value = this[index];
          const result = callback(value, index);
          if (result) {
            return true;
          }
        }

        return false;
      };
    </script>
    <script>
      /*
      自定义实现一组数组声明式方法
        1). map()
        2). reduce()
        3). filter()
        4). find()
        5). findIndex()
        6). every()
        7). some()
      */
      /*
      需求:
      1. 产生一个每个元素都比原来大10的新数组
      2. 得到所有奇数的和
      3. 得到值大于8且下标是偶数位的元素组成的数组
      4. 找出一个值大于8且下标是偶数位的元素
      5. 找出一个值大于8且下标是偶数位的元素的下标
      6. 判断下标为偶数的元素是否都为奇数
      7. 判断是否有下标为偶数的元素值为奇数
      */

      const arr = [1, 3, 6, 9, 15, 19, 16];

      console.log(arr.map((item, index) => item + 10));

      console.log(
        arr.reduce(
          (preToatl, item, index) => preToatl + (item % 2 === 1 ? item : 0),
          0
        )
      );

      console.log(arr.filter((item, index) => index % 2 === 0 && item > 8));

      console.log(arr.find((item, index) => index % 2 === 0 && item > 8));

      console.log(arr.findIndex((item, index) => index % 2 === 0 && item > 8));

      console.log(
        arr.every((item, index) => index % 2 === 0 && item % 2 === 1)
      );

      console.log(arr.some((item, index) => index % 2 === 0 && item % 2 === 1));
    </script>
  </body>
</html>
